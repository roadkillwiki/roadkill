var Roadkill;(function(n){(function(n){(function(n){var t=function(){function t(){}return t.prototype.bind=function(){var n=this;$("tr.listrow").live("mouseenter",function(){$(this).addClass("focus")}).live("mouseleave",function(){$(this).removeClass("focus")}).live("click",function(){n.handleRowSelection(this)}).live("dblclick",function(){n.handleDoubleClickForRow(this)})},t.prototype.handleRowSelection=function(n){$("table#files tr.select").removeClass("select"),$(n).addClass("select"),$(n).attr("data-itemtype")!=="folder"&&$("table#files").trigger("fileselected",{file:t.getCurrentPath()+"/"+$("td.file",n).text()})},t.prototype.handleDoubleClickForRow=function(n){$(n).attr("data-itemtype")==="folder"&&t.update($(n).attr("data-urlpath"))},t.getCurrentPath=function(){return $("ul.navigator li:last").attr("data-urlpath")},t.update=function(i,r){typeof i=="undefined"&&(i=""),typeof r=="undefined"&&(r=!0),i===""&&(i=t.getCurrentPath());var e=this,u=function(i){var u,f,e;i.status==="error"?toastr.error(i.message):(r&&n.BreadCrumbTrail.addNewItem(i),u=new n.HtmlBuilder,f=u.getFolderTable(i),$("#folder-container").html(f.join("")),e=t.getCurrentPath(),$("#destination_folder").val(e))},f=new n.AjaxRequest;f.getFolderInfo(i,u)},t}();n.TableEvents=t})(n.FileManager||(n.FileManager={}));var t=n.FileManager})(n.Site||(n.Site={}));var t=n.Site})(Roadkill||(Roadkill={}))